<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">

    <ui:define name="title">Student Photo's</ui:define>

    <ui:define name="content">
        
            <div class="ui-fluid">
                <div class="ui-g">
                    <div class="ui-g-12">
                        <div class="card card-w-title">
                        <h:form id="form" enctype="multipart/form-data" >
                        
							<p:panel header="Student's Images" id="panel">
							<p:messages closable="true" autoUpdate="true"></p:messages>
							<p:dataTable reflow="true" rowIndexVar="index" paginator="true" rowsPerPageTemplate="20,50,100" rows="20" value="#{stdPhotoList.stdList}" var="var" >
							<f:facet name="header">
								 <p:commandButton value="Download All Images In Zip File" ajax="false" actionListener="#{stdPhotoList.downloadAllStudentPhoto}" onclick="PrimeFaces.monitorDownload(start, stop);" icon="ui-icon-image">
							            <p:fileDownload value="#{stdPhotoList.file}" /> 
							      </p:commandButton>
							</f:facet>
								<p:column headerText="S.No." style="width:50px;">
									<p:outputLabel value="#{index+1}"></p:outputLabel>
								</p:column>

								<p:column headerText="Add.No.">
									<p:outputLabel value="#{var.srNo}"></p:outputLabel>
								</p:column>

								<p:column headerText="Student Name">
									<p:outputLabel value="#{var.fullName}"></p:outputLabel>
								</p:column>

								<p:column headerText="Father Name">
									<p:outputLabel value="#{var.fathersName}"></p:outputLabel>
								</p:column>

								<p:column headerText="Student Image">
									<center>
										<p:lightBox styleClass="imagebox">
											<h:outputLink value="#{var.student_image}">
												<p:graphicImage value="#{var.student_image}" width="100"
													height="100" />
											</h:outputLink>
										</p:lightBox>
									</center>
								</p:column>
								
								<p:column headerText="Download">
									<p:commandButton value="Download"  id="download" onclick="PrimeFaces.monitorDownload(start, stop);" ajax="false" actionListener="#{stdPhotoList.downloadMethod}" icon="ui-icon-arrowthick-1-s">
						                <f:attribute name="addNumber" value="#{var.addNumber}" />
						                <p:fileDownload value="#{stdPhotoList.file}" />
						        </p:commandButton>
									
								</p:column>
									
							</p:dataTable>
							</p:panel>
							</h:form>
                        </div>
                    </div>
                </div>
            </div>
        
    </ui:define>

</ui:composition>
