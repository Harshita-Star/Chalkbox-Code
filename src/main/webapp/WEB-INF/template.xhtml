<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<f:loadBundle var="regexVar" basename="myProperties" />
<f:loadBundle var="addClassVar" basename="myProperties" />
<f:loadBundle var="addExamVar" basename="myProperties" />
<f:loadBundle var="addSubjectsVar" basename="myProperties" />
<f:loadBundle var="employeeAddmissionVar" basename="myProperties" />
<f:loadBundle var="registrationVar" basename="myProperties" />
<f:loadBundle var="registrationParentsVar" basename="myProperties" />
<f:loadBundle var="addNewRouteVar" basename="myProperties" />
<f:loadBundle var="addNewStopVar" basename="myProperties" />
<f:loadBundle var="addSectionVar" basename="myProperties" />
<f:loadBundle var="addSemesterVar" basename="myProperties" />
<f:loadBundle var="searchStudentVar" basename="myProperties" />
<f:loadBundle var="adminHomeVar" basename="myProperties" />
<f:loadBundle var="addTestVar" basename="myProperties" />
<f:loadBundle var="searchEmployeeVar" basename="myProperties" />
<f:loadBundle var="editEmployeeVar" basename="myProperties" />
<f:loadBundle var="employeeAddmissionVar" basename="myProperties" />
<f:loadBundle var="attendanceVar" basename="myProperties" />
<f:loadBundle var="printTestPerformanceClassWiseVar"
	basename="myProperties" />
<f:loadBundle var="feeCollectionVar" basename="myProperties" />
<f:loadBundle var="collectFeeVar" basename="myProperties" />
<f:loadBundle var="dueFeeReportVar" basename="myProperties" />
<f:loadBundle var="studentPerformanceVar" basename="myProperties" />
<f:loadBundle var="showReportVar" basename="myProperties" />



<h:head>
	<f:facet name="first">
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="viewport"
			content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
<link rel="shortcut icon" type="image/x-icon" href="#{request.contextPath}/pandora-layout/images/favicon.ico" />
    
	</f:facet>
	<title><ui:insert name="title">PrimeFaces Pandora</ui:insert></title>
	<h:outputScript name="js/sections.js" library="demo" />
	<h:outputScript name="js/prism.js" library="pandora-layout"/>
	 <h:outputScript name="js/layout.js" library="pandora-layout" />
	<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
	<script type="text/javascript"
		src="https://maps.google.com/maps/api/js?key=AIzaSyAuPUXqTBXELNaxd9MH-lilZ3cw76ch0uo&amp;sensor=false"></script>

	<!--  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD2iNkZr562TdJupqrRA8rcpKcHTUyQJgA&amp;libraries=places"></script> -->
	<!-- <script src="/dist/js/webcam.js" type="text/javascript"></script> -->
	<ui:insert name="head" />
	<link rel="stylesheet" type="text/css" href="tempcss/stylenew.css"/>
        
	<script>
     
		function toTitleCase(str) {
     return str.replace(
         /\w\S*/g,
         function(txt) {
             return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
         }
     );
 }
     
     function barext() {
    	  this.cfg.seriesDefaults.rendererOptions.varyBarColor = true;
    	  this.cfg.shadow = false;
    	  this.cfg.title = '';
          //this.cfg.seriesColors = ['#337ab7', '#2ea59f', '#2d34a4', '#2ea563'];
          this.cfg.grid = {
              background: 'white',
              borderColor: '#F5F5F5',
              gridLineColor: '#A1A5A9',
              shadow: false
          };
    	}

     function barextt() {
   	  this.cfg.shadow = false;
   	this.cfg.title = '';
         //this.cfg.seriesColors = ['#337ab7', '#2ea59f', '#2d34a4', '#2ea563'];
         this.cfg.grid = {
             background: 'white',
             borderColor: '#F5F5F5',
             gridLineColor: '#A1A5A9',
             shadow: false
         };
   	}
     
     function skinPie() {
         this.cfg.shadow = false;
         //this.cfg.seriesColors = ['#337ab7', '#2ea59f', '#2d34a4', '#2ea563'];
         this.cfg.grid = {
             background: 'white',
             borderColor: '#ffffff',
             gridLineColor: '#F5F5F5',
             shadow: false
         };
         /* this.cfg.axesDefaults = {
             rendererOptions: {
                 textColor: '#292B2C',
             }
         };
         this.cfg.seriesDefaults = {
             renderer: $.jqplot.PieRenderer,
             shadow: false,
             lineWidth: 1,
             markerOptions: {
                 shadow: false,
                 size: 7,
                 style: 'circle'
             }
         } */
     

     
     }
     function  calculatess(sno) {
         
         var newsno= sno-1;
       
         
         var stopp=document.getElementById("form:stopTable:"+newsno+":stop").value;
          stopp=stopp.trim();
          document.getElementById("form:stopTable:"+newsno+":stop").value=stopp;
		   var i;
		   for(i=0;i &lt; 10;i++){
		       if(i!=newsno){
		           var val =document.getElementById("form:stopTable:"+i+":stop").value;
		           if(val!=""){
		               if(stopp==val){
		                   document.getElementById("form:stopTable:"+newsno+":stop").value="";
		               }
		           }
		       }
		   }
   }
     
function  duplicateRfid(sno,total) {
         
         var newsno = sno-1;
         var newtot = total;
       
         
         var stopp=document.getElementById("form:upPic:"+newsno+":rfid").value;
          stopp=stopp.trim();
          document.getElementById("form:upPic:"+newsno+":rfid").value=stopp;
		   var i;
		   for(i=0;i &lt; newtot;i++){
		       if(i!=newsno){
		           var val =document.getElementById("form:upPic:"+i+":rfid").value;
		           if(val!=""){
		               if(stopp==val){
		                   document.getElementById("form:upPic:"+newsno+":rfid").value="";
		               }
		           }
		       }
		   }
   }
     
     </script>

	<script>
     
     function AvoidSpace(event) {

    	 /* block space from input string on key press */
    	    var k = event ? event.which : window.event.keyCode;
    	    if (k == 32) return false;
    	 }
     
     
function  checkNumberValid2(id) {
         
         var stopp=document.getElementById(id).value;
       
         stopp=stopp.trim();
         
         var t= "";
         
         for(i=0;i &lt; stopp.length;i++){
       
        var p = stopp.charAt(i);
       
        if(p==0 || p==1 || p==2 || p==3 ||p==4 || p==5 || p==6 || p==7||p==8||p==9)
        {
       
        t= t+p;
        }
        else
        {
        p = p.replace(p, "");
        t= t+p;
        }
       
         }
         document.getElementById(id).value=t;
         
   
   } 
     
     
 
 
 function  checkNumberMotherTwo(sno) {
     
     var newsno = sno-1;
     
     
     var stopp=document.getElementById("form:up:"+newsno+":motherNumber").value;
     
      stopp=stopp.trim();
     
		
      if(isNaN(stopp))
      {
    	  stopp = stopp.substring(0, (stopp.length)-1); 
      	  document.getElementById("form:up:"+newsno+":motherNumber").value=stopp;

      } 
     	  
      
      if(stopp.includes("."))
    	{
    	  stopp = stopp.substring(0, (stopp.length)-1);
    	  document.getElementById("form:up:"+newsno+":motherNumber").value=stopp;
    	}	  
    
      stopp=stopp.trim();
      document.getElementById("form:up:"+newsno+":motherNumber").value=stopp;
      
      if(isNaN(stopp))
      {	   
    	 document.getElementById("form:up:"+newsno+":motherNumber").value="";  
      }
      if(stopp.includes("."))
     {
  	    document.getElementById("form:up:"+newsno+":motherNumber").value="";
  	 }

}
 
function  checkNumberMotherIncome(sno) {
     
     var newsno = sno-1;
     
     
     var stopp=document.getElementById("form:up:"+newsno+":motherInc").value;
     
      stopp=stopp.trim();
     
		
      if(isNaN(stopp))
      {
    	  stopp = stopp.substring(0, (stopp.length)-1); 
      	  document.getElementById("form:up:"+newsno+":motherInc").value=stopp;

      } 
     	  
      
      if(stopp.includes("."))
    	{
    	  stopp = stopp.substring(0, (stopp.length)-1);
    	  document.getElementById("form:up:"+newsno+":motherInc").value=stopp;
    	}	  
    
      stopp=stopp.trim();
      document.getElementById("form:up:"+newsno+":motherInc").value=stopp;
      
      if(isNaN(stopp))
      {	   
    	 document.getElementById("form:up:"+newsno+":motherInc").value="";  
      }
      if(stopp.includes("."))
     {
  	    document.getElementById("form:up:"+newsno+":motherInc").value="";
  	 }

} 
 
 
function  checkNumberFatherTwo(sno) {
     
     var newsno = sno-1;
     
     
     var stopp=document.getElementById("form:up:"+newsno+":fatherNumber").value;
     
      stopp=stopp.trim();
     
		
      if(isNaN(stopp))
      {
    	  stopp = stopp.substring(0, (stopp.length)-1); 
    	  document.getElementById("form:up:"+newsno+":fatherNumber").value=stopp;  
   
      } 
      
      
      if(stopp.includes("."))
    	{
    	  stopp = stopp.substring(0, (stopp.length)-1);
    	  document.getElementById("form:up:"+newsno+":fatherNumber").value=stopp;
 
    	} 
     
      stopp=stopp.trim();
      document.getElementById("form:up:"+newsno+":fatherNumber").value=stopp;
      
      if(isNaN(stopp))
      {	   
    	 document.getElementById("form:up:"+newsno+":fatherNumber").value="";  
      }
      if(stopp.includes("."))
     {
  	    document.getElementById("form:up:"+newsno+":fatherNumber").value="";
  	 }

}

function  checkNumberFatherIncome(sno) {
    
    var newsno = sno-1;
    
    
    var stopp=document.getElementById("form:up:"+newsno+":fatherInc").value;
    
     stopp=stopp.trim();
    
		
     if(isNaN(stopp))
     {
   	  stopp = stopp.substring(0, (stopp.length)-1); 
   	  document.getElementById("form:up:"+newsno+":fatherInc").value=stopp;  
  
     } 
     
     
     if(stopp.includes("."))
   	{
   	  stopp = stopp.substring(0, (stopp.length)-1);
   	  document.getElementById("form:up:"+newsno+":fatherInc").value=stopp;

   	} 
    
     stopp=stopp.trim();
     document.getElementById("form:up:"+newsno+":fatherInc").value=stopp;
     
     if(isNaN(stopp))
     {	   
   	 document.getElementById("form:up:"+newsno+":fatherInc").value="";  
     }
     if(stopp.includes("."))
    {
 	    document.getElementById("form:up:"+newsno+":fatherInc").value="";
 	 }

}

function  checkNumberEmployee1(sno) {
    
    var newsno = sno-1;
    
    
    var stopp=document.getElementById("form:up:"+newsno+":empMob1").value;
    
     stopp=stopp.trim();
    
		
     if(isNaN(stopp))
     {
   	  stopp = stopp.substring(0, (stopp.length)-1); 
     	  document.getElementById("form:up:"+newsno+":empMob1").value=stopp;

     } 
    	  
     
     if(stopp.includes("."))
   	{
   	  stopp = stopp.substring(0, (stopp.length)-1);
   	  document.getElementById("form:up:"+newsno+":empMob1").value=stopp;
   	}	  
   
     stopp=stopp.trim();
     document.getElementById("form:up:"+newsno+":empMob1").value=stopp;
     
     if(isNaN(stopp))
     {	   
   	 document.getElementById("form:up:"+newsno+":empMob1").value="";  
     }
     if(stopp.includes("."))
    {
 	    document.getElementById("form:up:"+newsno+":empMob1").value="";
 	 }

}

function  checkNumberEmployee2(sno) {
    
    var newsno = sno-1;
    
    
    var stopp=document.getElementById("form:up:"+newsno+":empMob2").value;
    
     stopp=stopp.trim();
    
		
     if(isNaN(stopp))
     {
   	  stopp = stopp.substring(0, (stopp.length)-1); 
     	  document.getElementById("form:up:"+newsno+":empMob2").value=stopp;

     } 
    	  
     
     if(stopp.includes("."))
   	{
   	  stopp = stopp.substring(0, (stopp.length)-1);
   	  document.getElementById("form:up:"+newsno+":empMob2").value=stopp;
   	}	  
   
     stopp=stopp.trim();
     document.getElementById("form:up:"+newsno+":empMob2").value=stopp;
     
     if(isNaN(stopp))
     {	   
   	 document.getElementById("form:up:"+newsno+":empMob2").value="";  
     }
     if(stopp.includes("."))
    {
 	    document.getElementById("form:up:"+newsno+":empMob2").value="";
 	 }

}

function validateDecimal()
{
	
	var str=document.getElementById("form:preFee").value;
	var n = str.includes(".");
	if(n==true)
	{
		var res = str.split(".");
		
		if(res[1].length>2)
		{
			res[1] = res[1].substring(0, 2);
		}	
			
		var fin = res[0]+"."+res[1];	
		document.getElementById("form:preFee").value=fin;	
			
	}	
		
	
}
  
     </script>



	<style type="text/css">
.logo {
	width: 5%
}

.detail {
	width: 95%;
	padding-left: 25px;
}

.detail td {
	font-size: 24px;
}

.ui-datascroller .ui-datascroller-item {
	border-bottom: 1px solid #A8A8A8;
	padding: 25px 10px;
	/* with the exported variables from Nova and Luna Themes*/
	border-bottom-color: var(- -input-border-color, #A8A8A8);
}
</style>



	<style type="text/css">
.cpu-bar-style .ui-progressbar-value {
	background: #ffe600;
}

.redColored {
	color: red;
}

.greenColored {
	color: #00b100;
}

.yellowColored {
	color: yellow;
}

.blueColored {
	color: #0000ff;
}

.blackColored {
	color: #000000;
}

.fc-time {
	display: none !important;
}

.firstmm {
	width: 128px !important;
}
.butwid-1 {
	width: 200px !important;
}
.butwid-2 {
	width: 250px !important;
}
.butwid {
	width: 150px !important;
}
.redButt{
	background-color: #9c2d38 !important;
}

.greenButt{
    background-color: #266936 !important;
}

.NOT {
	background-color: #ffffff !important;
}

.PRESENT {
	background-color: #93F2A3 !important;
}

.ABSENT {
	background-color: #F79B83E6 !important;
}

.HOLIDAY {
	background-color: #FF512DA8 !important;
}

.LEAVE {
	background-color: #FFBF79 !important;
}

.MEDICAL {
	background-color: #FFFF90 !important;
}

.PREP {
	background-color: #FF009740 !important;
}
.select-menu{
	background-color: white;
}
</style>

	<style>
.ui-inputgroup .ui-inputgroup-addon, body .ui-inputgroup .ui-inputgroup-addon-checkbox
	{
	padding: 6px 12px !important;
	border-color: #cccccc;
	background-color: #647cb5 !important;
	color: white !important;
	min-width: 28px;
}

.ui-datatable thead th {
	background-color: #f0f8ff !important;
}
</style>
	<script type="text/javascript" src="http://www.google.com/jsapi" />
	<script type="text/javascript">
		google.load("elements", "1", {
			packages : "transliteration"
		});
		
		function onLoad() {
			var options = {
				sourceLanguage : google.elements.transliteration.LanguageCode.ENGLISH,
				destinationLanguage : [ google.elements.transliteration.LanguageCode.HINDI ],
				shortcutKey : 'ctrl+g',
				transliterationEnabled : true
			};

			var control = new google.elements.transliteration.TransliterationControl(
					options);

			// Enable transliteration in the editable elements with id
			// 'transliterateDiv'.
			control.makeTransliteratable([ 'mainForm:transliterateDiv' ]);
		}

		google.setOnLoadCallback(onLoad);
	</script>

	<script type="text/javascript">
		google.load("elements", "1", {
			packages : "transliteration"
		});
		
		function onLoad1() {
			var options = {
				sourceLanguage : google.elements.transliteration.LanguageCode.ENGLISH,
				destinationLanguage : [ google.elements.transliteration.LanguageCode.HINDI ],
				shortcutKey : 'ctrl+g',
				transliterationEnabled : true
			};

			var control = new google.elements.transliteration.TransliterationControl(
					options);

			// Enable transliteration in the editable elements with id
			// 'transliterateDiv'.
			control.makeTransliteratable([ 'form:transliterateDiv' ]);
		}

		google.setOnLoadCallback(onLoad1);
	</script>

	<script type="text/javascript">
		google.load("elements", "1", {
			packages : "transliteration"
		});
		
		function onLoad2() {
			var options = {
				sourceLanguage : google.elements.transliteration.LanguageCode.ENGLISH,
				destinationLanguage : [ google.elements.transliteration.LanguageCode.HINDI ],
				shortcutKey : 'ctrl+g',
				transliterationEnabled : true
			};

			var control = new google.elements.transliteration.TransliterationControl(
					options);

			// Enable transliteration in the editable elements with id
			// 'transliterateDiv'.
			control.makeTransliteratable([ 'form:transliterateDivv' ]);
		}

		google.setOnLoadCallback(onLoad2);
	</script>


	<script>
            function disableSunday(date)
            {
                var day = date.getDay();
                return [day!=0,'']
            }
        </script>
	<script>
            function handleChange(input)
            {
                var ot = document.getElementById("form1:stopFee");
                if (input.value > parseInt(ot.textContent))
                    input.value = 0;
            }
        </script>
	<script>
	         function myTrim(x) 
			{
				//return x.replace(/^\s+|\s+$/gm,'');
				return x.replace(/^[ ]+|[ ]+$/g,'');
			}
			 
			function trimFunc(val,msg,id) 
			{
				if(val=="")
				{
					
				}
				else
				{
					var str = myTrim(val);
					document.getElementById(id).value=str;
				}
			}
        </script>
	<script>
			
			function calcTax(amt,tax,resid) 
			{
				if(amt=="")
				{
					amt = "0";
				}
				
				if(tax=="")
				{
					tax = "0";
				}
				
				var taxamt = 0;
				taxamt = parseFloat(amt)*(parseFloat(tax)/100);
				taxamt = taxamt.toFixed(2);
				document.getElementById(resid).textContent=taxamt;
			}
	
        		function totalDiscount()
        		{
        			var check = $('.discountClass').map(function() {return this.value;}).get().join(',')
        			var tempArr = check.split(',');
        			var finalDiscount=0;
        			
        			for(var i = 0; i &lt; tempArr.length; i++) 
        			{
        				if(tempArr[i]=="")
        				{
        					tempArr[i]="0"
        				}
        				  finalDiscount+= parseFloat((tempArr[i]));
        			}
        			
        			document.getElementById("form:dt:discount").textContent="Discount Amount : "+finalDiscount;
        		}
        		
        		function totalAmount()
        		{
        			var check = $('.payamtClass').map(function() {return this.value;}).get().join(',')
        			var tempArr = check.split(',');
        			var finalAmt=0;
        			
        			for(var i = 0; i &lt; tempArr.length; i++) 
        			{
        				var check = $('.check'+(i+1)+':checked').map(function() {return this.value;}).get().join(',');
        				if(check=="on")
        				{
        					if(tempArr[i]=="")
            				{
            					tempArr[i]="0"
            				}
        					 finalAmt+= parseFloat((tempArr[i]));
        				}
        				
        			}
        			
        			document.getElementById("form:dt:submit").textContent="Submit Amount : "+finalAmt;
        		}
        
			function changeDiscount(sno,src) 
			{
				//alert(src);
				var newsno = sno-1;
				var check = $('.check'+sno+':checked').map(function() {return this.value;}).get().join(',');
				
				var dueAmount=document.getElementById("form:dt:"+newsno+":dueamt").textContent;
				
				var feeName=document.getElementById("form:dt:"+newsno+":feeName").textContent;
				var discountAmount=document.getElementById("form:dt:"+newsno+":pdiscount").value;
				var disc = discountAmount;
				var payAmt = document.getElementById("form:dt:"+newsno+":pamt").value;
				
				if(discountAmount=="")
				{
					discountAmount="0";
				}

				if(dueAmount=="")
				{
					dueAmount="0";
				}
				
				var submitAmount= parseFloat(dueAmount) - parseFloat(discountAmount);
				
				if(check=="on" &amp;&amp; feeName!="Late Fee" &amp;&amp; feeName!="ANY OTHER CHARGES-")
				{
					
					if(discountAmount!= "" &amp;&amp; submitAmount>=0 &amp;&amp; dueAmount!="")
					{
						document.getElementById("form:dt:"+newsno+":pamt").value=submitAmount;
					}
					else
					{
						swal("Oops!", "Discount Cannot be Greater Than Due Amount!", "error")
						document.getElementById("form:dt:"+newsno+":pamt").value=parseFloat(dueAmount);
						document.getElementById("form:dt:"+newsno+":pdiscount").value=0;
					}
				}
				else if(check=="on" &amp;&amp; (feeName=="Late Fee" || feeName=="ANY OTHER CHARGES-"))
				{
					if(discountAmount== "")
					{
						document.getElementById("form:dt:"+newsno+":pdiscount").value=0;
					}
					
					if(payAmt== "")
					{
						document.getElementById("form:dt:"+newsno+":pamt").value=0;
					}
				}
				else
				{
					if(src=="discount" &amp;&amp; disc!="0")
					{
						swal("Oops!", "Please Select This Fee First!", "error")
						//alert("Please Select This Fee First");
					}
					
					
					if(feeName=="Late Fee" || feeName=="ANY OTHER CHARGES-")
					{
						document.getElementById("form:dt:"+newsno+":pamt").value=0;
					}
					else
					{
						document.getElementById("form:dt:"+newsno+":pamt").value=parseFloat(dueAmount);
					}
					document.getElementById("form:dt:"+newsno+":pdiscount").value=0;
					
					/* 
					
					var disc=document.getElementById("form:dt:"+newsno+":pdiscount").value;
					var pamnt = document.getElementById("form:dt:"+newsno+":pamt").value; */
					
				}
				
				
				totalDiscount();
				totalAmount();
				
				
			}
			
			function changeAmount(sno,src) 
			{
				
				var newsno = sno-1;
				var check = $('.payamtClass').map(function() {return this.value;}).get().join(',')
    			
				var dueAmount=document.getElementById("form:dtt:"+newsno+":dueamt").textContent;
				var feeName=document.getElementById("form:dtt:"+newsno+":feeName").textContent;
				
				
				var discountAmount=document.getElementById("form:dtt:"+newsno+":pdiscount").value;
				var disc = discountAmount;
				
				
				var payAmt = document.getElementById("form:dtt:"+newsno+":pamt").value;
		    
				
				if(discountAmount=="")
				{
					discountAmount="0";
				}

				if(dueAmount=="")
				{
					dueAmount="0";
				}
				
				var submitAmount= parseFloat(dueAmount) - parseFloat(discountAmount);
				
				var amount=parseFloat(payAmt) + parseFloat(discountAmount);
			
				
				if(feeName!="Late Fee" &amp;&amp; feeName!="ANY OTHER CHARGES-")
				{
					
					
					if(amount &lt;= dueAmount)
					{
						//document.getElementById("form:dtt:"+newsno+":pamt").value=submitAmount;
					}
					else
					{
						swal("Oops!", "Amount Cannot be Greater Than Due Amount!", "error")
						document.getElementById("form:dtt:"+newsno+":pamt").value=parseFloat(dueAmount);
						document.getElementById("form:dtt:"+newsno+":pdiscount").value=0;
					}
				}
				else if((feeName=="Late Fee" || feeName=="ANY OTHER CHARGES-"))
				{
					if(discountAmount== "")
					{
						document.getElementById("form:dtt:"+newsno+":pdiscount").value=0;
					}
					
					if(payAmt== "")
					{
						document.getElementById("form:dtt:"+newsno+":pamt").value=0;
					}
				}
				else
				{
					if(src=="discount" &amp;&amp; disc!="0")
					{
						swal("Oops!", "Please Select This Fee First!", "error")
						//alert("Please Select This Fee First");
					}
					
					
					if(feeName=="Late Fee" || feeName=="ANY OTHER CHARGES-")
					{
						document.getElementById("form:dtt:"+newsno+":pamt").value=0;
					}
					else
					{
						document.getElementById("form:dtt:"+newsno+":pamt").value=parseFloat(dueAmount);
					}
					document.getElementById("form:dtt:"+newsno+":pdiscount").value=0;
					
					/* 
					
					var disc=document.getElementById("form:dt:"+newsno+":pdiscount").value;
					var pamnt = document.getElementById("form:dt:"+newsno+":pamt").value; */
					
				}
				
				totalDiscounttt();
				totalAmounttt();
				
				
			}
			
			
			

			function totalDiscounttt()
	    		{
	    			var check = $('.discountClass').map(function() {return this.value;}).get().join(',')
	    			var tempArr = check.split(',');
	    			var finalDiscount=0;
	    			
	    			for(var i = 0; i &lt; tempArr.length; i++) 
	    			{
	    				if(tempArr[i]=="")
	    				{
	    					tempArr[i]="0"
	    				}
	    				  finalDiscount+= parseFloat((tempArr[i]));
	    			}
	    			
	    			document.getElementById("form:dtt:discount").textContent=finalDiscount;
	    		}
	    		
	    		function totalAmounttt()
	    		{
	    			var check = $('.payamtClass').map(function() {return this.value;}).get().join(',')
	    			var tempArr = check.split(',');
	    			var finalAmt=0;
	    			
	    			for(var i = 0; i &lt; tempArr.length; i++) 
	    			{
	    				
	    					if(tempArr[i]=="")
	        				{
	        					tempArr[i]="0"
	        				}
	    					 finalAmt+= parseFloat((tempArr[i]));
	    				
	    			}
	    			
	    			document.getElementById("form:dtt:submit").textContent=finalAmt;
	    		}
	    
			function changeDiscounttt(sno,src) 
			{
				var newsno = sno-1;
				var check = $('.discountClass').map(function() {return this.value;}).get().join(',');
				
				var dueAmount=document.getElementById("form:dtt:"+newsno+":dueamt").textContent;
				var feeName=document.getElementById("form:dtt:"+newsno+":feeName").textContent;
				
				var discountAmount=document.getElementById("form:dtt:"+newsno+":pdiscount").value;
				var disc = discountAmount;
				var payAmt = document.getElementById("form:dtt:"+newsno+":pamt").value;
				
				if(discountAmount=="")
				{
					discountAmount="0";
				}
				
				if(dueAmount=="")
				{
					dueAmount="0";
				}
				
				var submitAmount= parseFloat(dueAmount) - parseFloat(discountAmount);
				//if(feeName!="Late Fee-" &amp;&amp; feeName!="Any Other Charges-")
				if(feeName!="Any Other Charges-")
				{
					
					if(discountAmount!= "" &amp;&amp; submitAmount>=0 &amp;&amp; dueAmount!="")
					{
						document.getElementById("form:dtt:"+newsno+":pamt").value=submitAmount;
					}
					else
					{
						swal("Oops!", "Discount Cannot be Greater Than Due Amount!", "error")
						document.getElementById("form:dtt:"+newsno+":pamt").value=parseFloat(dueAmount);
						document.getElementById("form:dtt:"+newsno+":pdiscount").value=0;
					}
				}
				else if(feeName=="Any Other Charges-")//else if(feeName=="Late Fee-" || feeName=="Any Other Charges-")
				{
					if(discountAmount== "")
					{
						document.getElementById("form:dtt:"+newsno+":pdiscount").value=0;
					}
					
					if(payAmt== "")
					{
						document.getElementById("form:dtt:"+newsno+":pamt").value=0;
					}
				}
				else
				{
					s
					
					
					if(feeName=="Any Other Charges-")//if(feeName=="Late Fee-" || feeName=="Any Other Charges-")
					{
						document.getElementById("form:dtt:"+newsno+":pamt").value=0;
					}
					else
					{
						document.getElementById("form:dtt:"+newsno+":pamt").value=parseFloat(dueAmount);
					}
					document.getElementById("form:dtt:"+newsno+":pdiscount").value=0;
					
					/* 
					
					var disc=document.getElementById("form:dt:"+newsno+":pdiscount").value;
					var pamnt = document.getElementById("form:dt:"+newsno+":pamt").value; */
					
				}
				
				
				totalDiscounttt();
				totalAmounttt();
				
				
			}
			
			function paySalary(sno,src) 
			{
				var newsno = sno-1;
				//var check = $('.discountClass').map(function() {return this.value;}).get().join(',');
				
				var dueAmount=document.getElementById("form:tt:"+newsno+":dueamt").textContent;
				
				var payAmt = document.getElementById("form:tt:"+newsno+":pamt").value;
				if(payAmt=="")
				{
					payAmt="0";
					document.getElementById("form:tt:"+newsno+":pamt").value=0;
				}
				
				var submitAmount= parseFloat(dueAmount) - parseFloat(payAmt);
				document.getElementById("form:tt:"+newsno+":pbal").textContent=submitAmount;
			}
		</script>
	<script type="text/javascript">
			function changeColor(disabledCheck) {

				var tag = document.getElementById("form:table1");
				var tag1 = document.getElementById("form:table2");

				var count = 0;
				var charcount = disabledCheck.length;
				if (charcount > 0) {
					count = 1;
				}

				if (charcount >= 161) {
					count = 2;
				}

				if (charcount > 306) {
					count = 3;
				}

				if (charcount > 459) {
					count = 4;
				}

				if (charcount >= 612) {
					count = 5;
				}
				
				if (charcount > 765) {
					count = 6;
				}

				tag.innerHTML = count;
				tag1.innerHTML = charcount;
			}
			
			function changeColor1(disabledCheck) {

				var tag = document.getElementById("form:table1");
				var tag1 = document.getElementById("form:table2");

				var count = 0;
				var charcount = disabledCheck.length;
				if (charcount > 0) {
					count = 1;
				}

				if (charcount >= 71) {
					count = 2;
				}

				if (charcount > 134) {
					count = 3;
				}

				if (charcount > 201) {
					count = 4;
				}

				if (charcount >= 269) {
					count = 5;
				}
				
				if (charcount > 335) {
					count = 6;
				}

				tag.innerHTML = count;
				tag1.innerHTML = charcount;
			}
			
			function changeColor2(disabledCheck) {

				var tag = document.getElementById("form:table3");
				var tag1 = document.getElementById("form:table4");

				var count = 0;
				var charcount = disabledCheck.length;
				if (charcount > 0) {
					count = 1;
				}

				if (charcount >= 161) {
					count = 2;
				}

				if (charcount > 306) {
					count = 3;
				}

				if (charcount > 459) {
					count = 4;
				}

				if (charcount >= 612) {
					count = 5;
				}
				
				if (charcount > 765) {
					count = 6;
				}

				tag.innerHTML = count;
				tag1.innerHTML = charcount;
			}
			
			function changeColor3(disabledCheck) {

				var tag = document.getElementById("form:table3");
				var tag1 = document.getElementById("form:table4");

				var count = 0;
				var charcount = disabledCheck.length;
				if (charcount > 0) {
					count = 1;
				}

				if (charcount >= 71) {
					count = 2;
				}

				if (charcount > 134) {
					count = 3;
				}

				if (charcount > 201) {
					count = 4;
				}

				if (charcount >= 269) {
					count = 5;
				}
				
				if (charcount > 335) {
					count = 6;
				}

				tag.innerHTML = count;
				tag1.innerHTML = charcount;
			}
			
			
			
			function changeMarks(sno,src,schid) 
			{
				
				
			
				var newsno=sno;
				var check=document.getElementById("form:typeofarea_label").textContent;
				var marksformate=document.getElementById("form1:table:marksformatetest").textContent;
			
			
				if(check=='Scholastic' || check=='Additional Subjects' )
				{
					if(marksformate=='grade')
					{
						if(src=='MARKS')
					    {
							document.getElementById("form1:table:"+newsno+":marks1").value=""
					    }
						else
						{
							document.getElementById("form1:table:"+newsno+":marks1").value=src
							
						}
					}
					else
					{
						if(schid=='295')
						{
							if(src=='MARKS')
						    {
								document.getElementById("form1:table:"+newsno+":marks").value="0"
						    }
							else
							{
								document.getElementById("form1:table:"+newsno+":marks").value=src
								
							}
						}	
						else if(schid=='226')
						{
							if(src=='MARKS')
						    {
								document.getElementById("form1:table:"+newsno+":marks").value="0"
						    }
							else
							{
								document.getElementById("form1:table:"+newsno+":marks").value=src
								
							}
						}
						else
						{
								
							if(src=='MARKS')
						    {
								document.getElementById("form1:table:"+newsno+":marks").value="0"
							}
							else
							{
								document.getElementById("form1:table:"+newsno+":marks").value=src
								
							}
						}
					}
					
				}
				else
				{
					if(src=='MARKS')
				    {
						document.getElementById("form1:table:"+newsno+":marks3").value=""
				    }
					else
					{
						document.getElementById("form1:table:"+newsno+":marks3").value=src
						
					}
				}
				
			
			}
			
			
			function testingMarks(sno,src) 
			{
			var newsno=sno-1;

			var check="A1,A2,B1,B2,C1,C2,D,E";

			var idArray=check.split(',');
			               
			    var searchValue = idArray.filter(function (keyData) {
			      return keyData == src;
			    });

			    if(searchValue.length>0){
			       
			    }
			    else
			    {
			    swal("Oops!", "Please enter Valid grade.", "error")
			   	
			    }


			}
			
			function marksCheck(sno) {
			
					var newsno = sno-1;
					
					var marks = document.getElementById("form1:table:"+newsno+":marks").value;
					var type1 = document.getElementById("form1:table:"+newsno+":type:0").checked;
					
					var type2 = document.getElementById("form1:table:"+newsno+":type:1").checked;
					
					
					if(type1==true)
					{
						document.getElementById("form1:table:"+newsno+":marks").value = "AB";
						
					}	
					else if(type2==true)
					{
						document.getElementById("form1:table:"+newsno+":marks").value = "ML";
						
					}	
					else{
				
					var dotcounter = 0;
					var checkNumber = 0;
					var checkAlpha = 0;
					var checkValidNum = 0;
					
                    for(i=0;i &lt; marks.length;i++){
						
                    	
						if(marks.charAt(i)=='0' || marks.charAt(i)=='1' || marks.charAt(i)=='2' || marks.charAt(i)=='3' || marks.charAt(i)=='4' || marks.charAt(i)=='5' || marks.charAt(i)=='6' || marks.charAt(i)=='7' || marks.charAt(i)=='8' || marks.charAt(i)=='9' || marks.charAt(i)=='.')
						{
					
						}
						else
						{
							checkValidNum = 1;
						}
                    	
						
                    }
                    
                    if(checkValidNum == 1)
                    {
                    	document.getElementById("form1:table:"+newsno+":marks").value = "";
						alert("Marks should be numeric only");
                    }	
                    else{
					
					for(i=0;i &lt; marks.length;i++){
						
						if(marks.charAt(i).localeCompare("."))
						{
					
						}	
						else
						{
							dotcounter++;
						}
						
						if(isNaN(marks.charAt(i)))
						{
							
						}	
						else
						{
							checkNumber ++;
						}	
						
						var isAlp = isCharacterALetter(marks.charAt(i));
						
						if(isAlp)
						{
							checkAlpha++;
							
						}	
					}
					if(dotcounter &gt; 1)
					{
						document.getElementById("form1:table:"+newsno+":marks").value = "";
						alert("Invalid Marks");
					}
					
					if(checkNumber &gt; 0 &amp;&amp; checkAlpha &gt; 0)
					{
						document.getElementById("form1:table:"+newsno+":marks").value = "";
						alert("Invalid Marks");
					}
					
                    }	
						
					}	
					
				
			}
			
			function isCharacterALetter(char) {
				  return (/[a-zA-Z]/).test(char)
				}
			
			function changeMarksClassTest(index,val,schid){
				if(val=="MARKS"){
					document.getElementById("form1:table:"+index+":marks").value = "0";
				}else{
					document.getElementById("form1:table:"+index+":marks").value = val;
				}
				
			}
			
			function funcTool(){
				var name = null;
				$('#pie').children().each(function(){
					if($(this).attr('class')=="jqplot-highlighter-tooltip"){
						name = $(this).text().split("-");
					}
				});
				var tname = name[0].trim();
				if(tname=="Present"){
					window.open("presentStudentReport.xhtml",'_self');
				}else {
					window.open("absentStudentReport.xhtml",'_self');
				}
			}
			
			function marksCheckForTest(sno){
				var newsno = sno-1;
				console.log(document.getElementById("form1:table:"+newsno+":marks"));
				var marks = document.getElementById("form1:table:"+newsno+":marks").value;
				var type1 = document.getElementById("form1:table:"+newsno+":type:0").checked;
				var type2 = document.getElementById("form1:table:"+newsno+":type:1").checked;
				
				if(type1==true)
				{
					document.getElementById("form1:table:"+newsno+":marks").value = "AB";
					
				}	
				else if(type2==true)
				{
					document.getElementById("form1:table:"+newsno+":marks").value = "NA";
					
				}	
				else{
					console.log("3");
				var dotcounter = 0;
				var checkNumber = 0;
				var checkAlpha = 0;
				var checkValidNum = 0;
				
                for(i=0;i &lt; marks.length;i++){
					
                	
					if(marks.charAt(i)=='0' || marks.charAt(i)=='1' || marks.charAt(i)=='2' || marks.charAt(i)=='3' || marks.charAt(i)=='4' || marks.charAt(i)=='5' || marks.charAt(i)=='6' || marks.charAt(i)=='7' || marks.charAt(i)=='8' || marks.charAt(i)=='9' || marks.charAt(i)=='.')
					{
						
					}
					else
					{
						
						checkValidNum = 1;
					}
                	
					
                }
                
                if(checkValidNum == 1)
                {
                	document.getElementById("form1:table:"+newsno+":marks").value = "";
					alert("Marks should be numeric only");
                }	
                else{
				
				for(i=0;i &lt; marks.length;i++){
					
					if(marks.charAt(i).localeCompare("."))
					{
				
					}	
					else
					{
						dotcounter++;
					}
					
					if(isNaN(marks.charAt(i)))
					{
					}	
					else
					{
						checkNumber ++;
					}	
					
					var isAlp = isCharacterALetter(marks.charAt(i));
					
					if(isAlp)
					{
						checkAlpha++;
						
					}	
				}
				if(dotcounter &gt; 1)
				{
					document.getElementById("form1:table:"+newsno+":marks").value = "";
					alert("Invalid Marks");
				}
				
				if(checkNumber &gt; 0 &amp;&amp; checkAlpha &gt; 0)
				{
					document.getElementById("form1:table:"+newsno+":marks").value = "";
					alert("Invalid Marks");
				}
				
                }	
					
				}	
			}
			function trimName(val,id){
				var name = val.trim();
				document.getElementById("form:tabview:name").value=name;
			}
			
			function selectAll(id){
				var len = 0;
				var leng = 0;
				var tLen = 0;
				len = len + $('.select-check tbody tr td').length;
				leng = leng + $('.select-check-1 tbody tr td').length;
				tLen = tLen +  $('.term-class tbody tr td').length; 
				if(document.getElementById(id).parentElement.nextSibling.classList.contains('ui-state-active')){
					for(var i=0;i &lt;len;i++){
						$('.select-check tbody tr td').eq(i).children('div').children('div').eq(1).addClass('ui-state-active').children('span').addClass('ui-icon-check');
						$('.select-check tbody tr td').eq(i).children('div').children('.ui-helper-hidden-accessible').children('input').attr('checked','true');
					}
					for(var i=0;i &lt;leng;i++){
						$('.select-check-1 tbody tr td').eq(i).children('div').children('div').eq(1).addClass('ui-state-active').children('span').addClass('ui-icon-check');
						$('.select-check-1 tbody tr td').eq(i).children('div').children('.ui-helper-hidden-accessible').children('input').attr('checked',true);
					}
					for(var i=0;i &lt;tLen;i++){
						$('.term-class tbody tr td').eq(i).children('div').children('div').eq(1).addClass('ui-state-active').children('span').addClass('ui-icon-check');
						$('.term-class tbody tr td').eq(i).children('div').children('.ui-helper-hidden-accessible').children('input').attr('checked','true');
					}
				}else{
					for(var i=0;i &lt;len;i++){
						$('.select-check tbody tr td').eq(i).children('div').children('div').eq(1).removeClass('ui-state-active').children('span').removeClass('ui-icon-check');
						$('.select-check tbody tr td').eq(i).children('div').children('.ui-helper-hidden-accessible').children('input').removeAttr('checked');
					}
					for(var i=0;i &lt;leng;i++){
						$('.select-check-1 tbody tr td').eq(i).children('div').children('div').eq(1).removeClass('ui-state-active').children('span').removeClass('ui-icon-check');
						$('.select-check-1 tbody tr td').eq(i).children('div').children('.ui-helper-hidden-accessible').children('input').removeAttr('checked');
					}
					for(var i=0;i &lt;tLen;i++){
						$('.term-class tbody tr td').eq(i).children('div').children('div').eq(1).removeClass('ui-state-active').children('span').removeClass('ui-icon-check');
						$('.term-class tbody tr td').eq(i).children('div').children('.ui-helper-hidden-accessible').children('input').removeAttr('checked');
					}
				}
			}
			
			function unselect(){
				if($('.select-class').children('div').eq(1).hasClass('ui-state-active')){
					$('.select-class').children('.ui-state-active').removeClass('ui-state-active').children('span').removeClass('ui-icon-check');
				}
			}
			
			function checkSelectFunction(id){
					if($('.select-class').children('div').eq(1).hasClass('ui-state-active')){
						$('.select-class').children('.ui-state-active').removeClass('ui-state-active').children('span').removeClass('ui-icon-check');
					}
			}
			
			function checkAllSelect(id){
						var check = 0;
						var len = 0;
						var leng = 0;
						len = len + $('.select-check tbody tr td').length;
						leng = leng + $('.select-check-1 tbody tr td').length;
						$('.term-class tbody tr td').each(function(){
							if($(this).children('div').children().eq(1).hasClass('ui-state-active')){
							}else{
								check = 1;
							}
						});
						for(var i=0;i &lt;len;i++){
							if($('.select-check tbody tr td').eq(i).children('div').children('.ui-state-default').hasClass('ui-state-active')){
							}else{
								check = check + 1;
							}
						}
						for(var i=0;i &lt;leng;i++){
							if($('.select-check-1 tbody tr td').eq(i).children('div').children('.ui-state-default').hasClass('ui-state-active')){
							}else{
								check = check + 1;
							}
						}
						if(check==0){
							$('.select-class').children('div').eq(1).addClass('ui-state-active').children('span').addClass('ui-icon-check');
						}
			}
		</script>
</h:head>

<h:body styleClass="#{guestPreferences.inputStyleClass}">

	<div class="layout-wrapper #{guestPreferences.layoutConfig}">
		
		 <ui:include src="./rightpanel.xhtml"></ui:include> 
		 <ui:include src="./menu.xhtml"></ui:include>  
		<!-- <ui:include src="./#{sideMenuBean.menu}" /> -->

		<div class="layout-main">
		<ui:include src="./topbar.xhtml" />
		<ui:include src="./breadcrumb.xhtml" />
			 <div class="layout-content">
                    <ui:insert name="content"></ui:insert>
               </div>
        <ui:include src="./config.xhtml" />
         <ui:include src="./footer.xhtml"></ui:include>
         <div class="layout-mask"></div>
		</div>
 			<p:ajaxStatus onstart="PF('statusDialog').show()"
		onsuccess="PF('statusDialog').hide()" />
	<p:dialog modal="true" widgetVar="statusDialog" resizable="false"
		showHeader="false">
		<center>
			<!-- <i class="fa fa-circle-o-notch fa-5x fa-spin ajax-loader"></i> -->
			<p:graphicImage value="loader2.gif" height="100" width="100" />
		</center>
		<!-- <center>
			<h3>Please Wait...</h3>
		</center> -->
	</p:dialog>
	</div>

	<!-- <p:ajaxStatus style="width:32px;height:32px;position:fixed;right:7px;bottom:7px">
           <f:facet name="start">
               <i class="fa fa-circle-o-notch fa-spin ajax-loader"></i>
           </f:facet>

           <f:facet name="complete">
               <h:outputText value="" />
           </f:facet>
       </p:ajaxStatus> -->
	

	<h:outputStylesheet name="css/primeicons.css" library="pandora-layout"/>
        <h:outputStylesheet name="css/primeflex.min.css" library="pandora-layout"/>
        <h:outputStylesheet name="css/demo.css" library="demo"/>
        <h:outputStylesheet name="css/#{guestPreferences.layout}.css" library="pandora-layout" />

</h:body>

</html>