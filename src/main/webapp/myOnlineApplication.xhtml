<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/onlineAdmTemplate.xhtml">

	<ui:define name="title">My Applications</ui:define>

	<ui:define name="content">

		<div class="ui-fluid">
			<div class="ui-g">
				<div class="ui-g-12">
					<div class="card card-w-title" style="background-color: rgb(0, 86, 128, 0.8); ">
						<h:form id="form" enctype="multipart/form-data">
							<p:growl showDetail="true"  autoUpdate="true"></p:growl>
							<p:panel header="My Applications">
								<p:dataTable id="dt" var="var"
									value="#{myApplication.list}" reflow="true">

									<p:column headerText="S.No.">
										<p:outputLabel value="#{var.sno}"></p:outputLabel>
									</p:column>

									<p:column headerText="Student Name">
										<p:outputLabel value="#{var.st_name}"></p:outputLabel>
									</p:column>

									<p:column headerText="Academic Year">
										<p:outputLabel value="#{var.year}"></p:outputLabel>
									</p:column>
									
									<p:column headerText="Class Name">
										<p:outputLabel value="#{var.classname}"></p:outputLabel>
									</p:column>
									
									<p:column headerText="Apply Date">
										<p:outputLabel value="#{var.applydateStr}"></p:outputLabel>
									</p:column>
									
									<p:column headerText="Applicant Name">
										<p:outputLabel value="#{var.applicant_name}"></p:outputLabel>
									</p:column>
									
									<p:column headerText="Relation">
										<p:outputLabel value="#{var.applicant_relation eq 'Other' ? var.other_rel : var.applicant_relation}"></p:outputLabel>
									</p:column>
									
									<p:column headerText="Status" filterBy="#{var.status}" filterMatchMode="contains">
										<p:outputLabel value="#{var.status}"></p:outputLabel>
									</p:column>
									
									<p:column headerText="Remark">
										<p:outputLabel value="#{var.remark}"></p:outputLabel>
									</p:column>

									<p:column headerText="View">
										<p:commandButton icon="fa fa-fw fa-search" action="#{myApplication.viewDetail}">
											<f:setPropertyActionListener
												target="#{myApplication.selected}"
												value="#{var}"></f:setPropertyActionListener>
										</p:commandButton>
									</p:column>
									
									<p:column headerText="Delete">
										<p:commandButton disabled="#{var.disableDlt}" icon="fa fa-fw fa-trash" update=":form" action="#{myApplication.delete}">
											<f:setPropertyActionListener
												target="#{myApplication.selected}"
												value="#{var}"></f:setPropertyActionListener>
										</p:commandButton>
									</p:column>
									
									<p:column headerText="Admission Form">
										<p:commandButton disabled="#{var.disableEdit}" icon="fa fa-fw fa-check" value="Update" action="#{myApplication.admForm}">
											<f:setPropertyActionListener
												target="#{myApplication.selected}"
												value="#{var}"></f:setPropertyActionListener>
										</p:commandButton>
									</p:column>

								</p:dataTable>

							</p:panel>

						</h:form>
					</div>
				</div>
			</div>
		</div>

	</ui:define>

</ui:composition>